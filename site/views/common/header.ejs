<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Chore Manager</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/img/favicon.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="/css/globalcss.css" rel="stylesheet">
</head>

<body>
<header class="d-flex flex-wrap justify-content-center py-2 mb-4 border-bottom">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
        <img class="bi me-2" width="40" src="/img/cm-logo-small.png" alt="ChoreManager logo"/>
    </a>

    <ul class="nav nav-pills">
        <% page = (typeof page === 'undefined' ? "home" : page) %>
        <% page = ((page !== "home" && page !== "chores" && page !== "family" && page !== "error" && page !== "login" && page !== "register") ? "home" : page) %>
        <li class="nav-item"><a href="/" class="nav-link <% if (page === "home") { %>active<% } %>" aria-current="page">Home</a>
        </li>
        <li class="nav-item"><a href="/chores" class="nav-link <% if (page === "chores") { %>active<% } %>">Chores</a>
        </li>
        <li class="nav-item"><a href="/family" class="nav-link <% if (page === "family") { %>active<% } %>">Family</a>
        </li>
    </ul>

    <div class="dropdown text-end">
        <% var showDropdown = false; %>
        <a href="#" class="d-block link-dark text-decoration-none dropdown-toggle"
           onclick="var dropdownMenu = document.querySelector('.dropdown-menu'); dropdownMenu.classList.toggle('show');"
           aria-expanded="false">
            <img src="/img/user.png" alt="mdo" width="32" height="32" >
        </a>
        <ul class="dropdown-menu text-small shadow"
            style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate3d(0px, 34.2261px, 0px);"
            data-popper-placement="bottom-end">
            <% if (typeof req.session.familyMember !== 'undefined') { %>
                <li><a class="dropdown-item" href="/logout">Logout</a></li>
            <% } else { %>
                <li><a class="dropdown-item" href="/login">Login</a></li>
                <li><a class="dropdown-item" href="/register">Register</a></li>
            <% } %>
        </ul>
    </div>
</header>